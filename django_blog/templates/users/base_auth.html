{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block extra_css %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'users/css/auth.css' %}">
{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-form">
        <h2>{% block title %}{% endblock %}</h2>
        
        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
        
        {% block auth_content %}
        {% endblock %}
        
        <div class="form-footer">
            {% block auth_footer %}{% endblock %}
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
{{ block.super }}
<script src="{% static 'users/js/auth.js' %}"></script>
<script>
    // Add active class to form inputs when focused
    document.addEventListener('DOMContentLoaded', function() {
        const inputs = document.querySelectorAll('.form-control');
        inputs.forEach(input => {
            input.addEventListener('focus', function() {
                this.parentElement.classList.add('active');
            });
            input.addEventListener('blur', function() {
                if (this.value === '') {
                    this.parentElement.classList.remove('active');
                }
            });
            // Initialize active state
            if (input.value !== '') {
                input.parentElement.classList.add('active');
            }
        });
    });
</script>
{% endblock %}
